# 神経衰弱ゲーム 要件定義書

## 概要

カードをめくって同じペアを見つける神経衰弱ゲームです。制限時間内にできるだけ多くのペアを揃えることを目標とし、ランキング機能も備えています。

## 要件

### 要件 1: ゲーム開始機能

**ユーザーストーリー:** プレイヤーとして、STARTボタンをクリックしてゲームを開始したい。そうすることで、いつでも新しいゲームを始めることができる。

#### 受け入れ基準

1. WHEN プレイヤーがSTARTボタンをクリック THEN システムは5分のカウントダウンを開始する
2. WHEN ゲームが開始される THEN システムは32枚のカードを8×4のグリッドで配置する
3. WHEN ゲームが開始される THEN システムはすべてのカードを表向き（front-face.png）で表示する
4. ブラウザのリロードを行うと、START画面に戻る

### 要件 2: 制限時間設定機能

**ユーザーストーリー:** 開発者として、制限時間を変数で変更できるようにしたい。そうすることで、ゲームの難易度を調整できる。

#### 受け入れ基準

1. WHEN システムが初期化される THEN 制限時間は変数として定義される
2. WHEN 制限時間変数が変更される THEN 新しいゲームでその時間が適用される
3. WHEN カウントダウンが0になる THEN システムはゲームを終了する
4. 時間切れになった場合は、揃った枚数で得点が記録される

### 要件 3: カード表示とレイアウト機能

**ユーザーストーリー:** プレイヤーとして、整理されたカードレイアウトを見たい。そうすることで、ゲームを快適にプレイできる。

#### 受け入れ基準

1. WHEN ゲームが開始される THEN システムは横8枚×縦4枚の合計32枚のカードを表示する
2. WHEN カードが表示される THEN 各カードのサイズは横180px×縦240pxである
3. WHEN ゲーム開始時 THEN すべてのカードはfront-face.pngで表示される

### 要件 4: カードめくり機能

**ユーザーストーリー:** プレイヤーとして、カードをクリックしてめくりたい。そうすることで、カードの絵柄を確認できる。

#### 受け入れ基準

1. WHEN プレイヤーがカードをクリック THEN システムはカードを回転アニメーションで裏返す
2. WHEN カードがめくられる THEN システムは対応する裏面画像（01.png〜70.png）を表示する
3. WHEN 2枚のカードがめくられる THEN システムはペア判定を行う

### 要件 5: カードランダム配置機能

**ユーザーストーリー:** プレイヤーとして、毎回異なる配置でゲームをプレイしたい。そうすることで、ゲームの再プレイ性が向上する。

#### 受け入れ基準

1. WHEN ゲームが開始される THEN システムは70枚の画像から16種類をランダムに選出する
2. WHEN カードが選出される THEN システムは各種類を2枚ずつペアで配置する
3. WHEN カードが配置される THEN システムは32枚すべてをランダムな位置に配置する

### 要件 6: ペア判定機能

**ユーザーストーリー:** プレイヤーとして、同じ絵柄のカードをめくったときにペアとして認識されたい。そうすることで、ゲームの進行ができる。

#### 受け入れ基準

1. WHEN 2枚の同じ絵柄のカードがめくられる THEN システムはそれらをペアとして確定する
2. WHEN ペアが確定される THEN システムはそれらのカードを表示したままにする
3. WHEN 2枚の異なる絵柄のカードがめくられる THEN システムは一定時間後にカードを裏返す

### 要件 7: ランキング機能

**ユーザーストーリー:** プレイヤーとして、自分の成績を記録・比較したい。そうすることで、ゲームのモチベーションを維持できる。

#### 受け入れ基準

1. WHEN ゲームが終了する THEN システムは揃えた枚数とかかった時間を記録する
2. WHEN 成績が記録される THEN システムはランキングを更新する
3. WHEN ランキングが表示される THEN システムは揃えた枚数を第一基準、時間を第二基準でソートする

### 要件 8: ゲーム終了機能

**ユーザーストーリー:** プレイヤーとして、ゲームの終了条件を明確に知りたい。そうすることで、目標を持ってプレイできる。

#### 受け入れ基準

1. WHEN すべてのペアが揃う THEN システムはゲームを勝利で終了する
2. WHEN 制限時間が0になる THEN システムはゲームを時間切れで終了する
3. WHEN ゲームが終了する THEN システムは結果画面とランキングを表示する